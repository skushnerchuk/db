language: python
python:
- '3.6'
install:
- pip install ansible molecule apache-libcloud pycrypto
script:
- molecule --debug test
after_script:
- molecule --debug destroy
env:
  global:
  - secure: uhbstb3Rhs5AL4sAXApTigk141QccJ/6mspYGROa0p09oW372r7lioiZUO9boOmXANNWii8jsOoeD6TE1Cy0x5Zse9nDvUphN04EvEA8slOIFxOpAmPE3+8viu00lp9fAzU1n+n4tcEh4kmuLOKeYU3PPOfLbwTmj/ovKDIqjNnD2CIN2eHMBgDTm8IpldcApXlE86O5uHTUJg5MRIwqkA2fc3dC6gwI1Mgk4cpCplreMtSq1cO7y/6AstBHoXX+bt65Jp7hOmUxt2Ee8Q5Jm9/LZVEU9lkucOhkko6RudkcB31fnO37nD05YFHkOIWoFPoa1CKg6/ZeL+qLk8uP+BReU6MlVscozb/x81el9lQXEoy2B7QGi4n4xDI4OpUMJ/t8Nst2CrHxhGAeC+CNLL4u6fEDYt3dKC/mIla5vwx2LlckNwgaTp2CBywfRGr9lqlUvZFQtsgi+n/yq8vGn/bhy+HxRo9HpI2iJdxGBNU28vARsNltpkzKvnxRnXpfLO6bhe7eNJRpORzt9IT3vCcEnNvKjcm//2pG7B4aqbvjBzlB0/UlA5v96wT8kivwpCY86ghEbeffCqn0iWzWvYmmClJDFtiixt6uUndQiQqzWqfSe4Grlx/ysq6Vvfd/briJAoUsPqbI1C8ckfWdGgm7VKyjIYbGQNLDRKkYG8U=
  - secure: CbAuldRMFf/Tjh8GvWKpQMRno4dXcLNUCpW52QF6/FlyQiDV1qYE6/CN2x12ftqFFjGdiSpGk5jenJvdR1kJpq+OLBphQMH54r8B3Tt6KjbKOI/fBjlfJwsl8bbXgOkUgOCet3LvplOxeYfPprvVZYLnKj5BQWBsz+n5cDZttcZ3DQm949Jq/syP302PKQ7XjYP0isZMdSbLwW+LtP+nXoGGkQYH5LEeiT5JXRyT3wepyR0wvphgHOgduTJSukkwCB25RjziMRUi+f46KbRewBSTn7LDKxFXT6Cmqv0XxciizRsv9XYS0qPBEMKhTNz5PWY5hARs7oFDac1Ir+Vf/IJi37zusGfX6jmGGgYseeY/vN3g6NrhNzriS8il2QxFbH/gPS03so7cmqHfMS4CujC1VKWzFT8z1526nnsVV10ZFR2p4OxLcQ7KMmF1dDJ3MtHWnGw/PB1xFr7+V/z7+dVz7S6TePUv7bHhviGKANfvQKLjxCap28AlyLcP1rx8Sv3dU8i1iPpwPQsJj1f/KIHZGzWHAhII/2pG/jx/a1RInHAbM6rCjeUQU/shS1LZiLc8KlRn+nDzkHRFWBBU37c5LtIfbvs1IJGNR9v9rxunEdOJJqckUaMHEOpyWGiKOLoEiKQnyU9zUs4eYqfOvBR7YTTYqWVYK6o6RDjv9ag=
  - secure: DyUZWqr/DOVEHWGxzCYXiCCB7iENRE5YvLNqQ7rNI1+OFB4QsBxABkEkXFhqYeHDRWOfLUfazsCew7BxR3K8D3KZpXJkKzAjg0kGOi+LKBlTpasfz1PhJX6Ppe/4XoegT9HnLchzysaApZ/HhQzX7irIVlV1qb3wFmKkD//XgKWXcALXirb+TnvbLGf4k5U3rk8E5Xif4G3eBtv2dTBAC/lmQkB+TNszLpnsTFlqSOZnF0dOti5FSNcaPgF9Qu1irKJrAqtAJY5RtV1TC4QDUMnqSHTVVChXBOskTC93xGrxmnHIpapxQFAHVeEziylW6w10oddwgGiuc6gVV2HeHKAEo53xvuAkJ4MIiKURoxAuvMIh77WL8ESS7rzPHWvNKMYG5dz05uEiWuw2BiyPI5J1beKOPdxDK0cx6RftnCkN6pun0fmF45JR71vKopY75MAsHJA2XS2VRFWGUurnD98YeninQbuEe6TBxicbND7sb7rWCbIRbOkhaLJFiQEA7XuF4cnTZUXQ5iX4trB55mnbmZ1ef6WTEKVaj5nQnUWp2KgU1iXIXg4l78eQwndSAxniEbl0MrFw+Mo578MPC5dqDIVazx6G3DyQltR8gpC0I4Hb3o7QA6TQV/IOlZryvYqdkmdqBynljt2FuzNJ6Qz9MTCMV3R+qktx5OjVM4E=
  - secure: P8l1iWWwWXgvLhB26tYG3pfDplvPwerN8pyUEKUgYFY4FXP0a9wsWsPMud42N48vkIIrjChLuMLZ3PvxrVEeyUMfkDs2slBl4Jtn9j7HmyuHo7wLIzEBPhGYYDEp57nvbm7SVbha68PZ1rpkCXXL85SuRcTfVd7cHDsZdyWjgcPDlnnHQVJ4aeSQNArzfxXaiA8E7Sw4s8XUxvO00JKqk/QHSwc8p1Gm4WHRdS0/ceY8HPSgF+GEhl3TecMgc373iBBIPfn5iJydP7dH+pkzVFs7A89Xp874WZHhrfzwFQ4/7HZt8eM0+/keD3FrUb7vhX+IkQtU4iYLJfF5y/PRs/CVqEtu5pLfQ6LaqoCT84y9YsHuS4dLJo8k9C/VkMRODKxaENvVWb2Nz8bj9GkxLPm0CXZpxYANFk0UR75alPWl2XzqEhd0U8/Ak35GCtOKSxl/NdpNXmchwjPESahlqxbvIZMBVRp1VT/ygbI0I6OexynaZD4rM3TpgBCEJzeiokl7uBvK5Pd1gGDBFz/Qrf2QtiCbJg9ohfF2rj4H2UmFXXZLqZT4HgvJA9oyC0R/JS5saSh9iQ3qc5q++cgIupba7Y4CxYcF6y4ToSzF4f3XOUFwp9gRd3kCNSU+16nJlEfH2++94vRskOEGX4aue3se9/pNDS+urhBG/T8fFzY=
  - secure: n6tYtoChzkppcW66TCjEbohLeMywmYgms8eVA6tGXLiLr3tzwGJMC1dHBJDcT0/II53dkv5GFZMcI9a3GyX7nETeJm5G6ByoDSvu4+SJyO8KwTryLBMMeTCrnhXmwrQP099reB3U97xOETJC0hRyRRIXVlZV4kcjupuIC+8QUkI8MftQwmybwL6eFQKSqAYk0Pc4RZOdFhkWg2CBu+zvF4POqv9BxqtK6oCXwI7LmmbLD4FGKx6hbjW8vQXk8y77LKfZpJau/0mFmKvkey7EfpZWaxhGSV4TCR5R0fAV9DHpYEM5FmCMZ78jHHSukTexdJ6XNU58rpkHeN12HWIuvqsleSv5cMlgFcZyj9V92HYOxz27YfV/h2VVZ9DXHAR4rXBq9T3LueoQsDv1S7P7oDtPDFXwVTereH6/KUd+ztqc0D3d7lsqXiaysmAVkS5qucb/KNeQ6RTRnv+XgbACuDjl5PCfMwjJiJ8IlKw2+4bKSTuqNZQOON1XS0IZRDf7XNgZAounsZj52GclLNeu3bCQ3tflCFTzzqOr1piR8P0gyKnBWTKnBGvz1eiK+z+VXN9m0RMYy6qxQn6+nED3k7xsatnACOM0bP4AOTXA/l9NUz8ic62fS9sg3TcnnV/tpFtUPocF73sSDXTMCKwo72KplAnCc9KAhKvJ226cyfE=
  - secure: qnt9ZRQNvfRtiRLyvijXojPYib/ZQNGd/YoGlgvfZWdQ2/6jHzvEh/nNT5bXsmEzKYCVORfhTcYD2FMHf4iOBQ4Kxn2FIQLW/I9cGudTmJ83welXMvdX9I9WKg6YS8yPSO7t18EPpXfXXCVA77lpZFSlzgBU4g5S0UYcFZkUsZZvxxBbbVJj3bSdpWb/41oZFX+FW371wbmxVtfk1XJUIiiit6o4vTROEhX5gn1lvOWDlv9TAQgPCCff3ksmimZLWTdao4K+TtN2hiOVUTkAR1t0c1ItuIojiIEmWdb/Ja5iDIawuLcRZJc12JiBPuhQQ+qWUrgEyCtJS/g3YkZyICNNcTyGDt5LlktDYBi3HTrz1fNyjJNveKSSgfF/M+4e8pM4vr8B87q1FeOyFrkq7bmuhISU4mf8g7hT8C17ahyOeEsz/YG2FW3shfsInZvQl84iyMbhE/5X1pcYaH3J0UShPxOpBkA9zf6aVlp466JOVSi7ZyMBYuEDthZsYCCWbqlSYQgvBP3q/otlx2ioSsAnQf3fmKB14mFvykXXl3kvhW+IBoQ+PCq2M/n06vbsDX/1MM3bJAc+r8L++w1VUG2wC8c4+GOvkYyFVjp3fwGCNcdqHzK5UFYOJ6wfntiD06pvS1BHrcsv9prL09h3rp+cxjSMiKT0N5ysrBc4ogo=
before_install:
- openssl aes-256-cbc -K $encrypted_62c0abeda44b_key -iv $encrypted_62c0abeda44b_iv
  -in secrets.tar.enc -out secrets.tar -d
- tar -xvf secrets.tar
- mv google_compute_engine ~/.ssh
